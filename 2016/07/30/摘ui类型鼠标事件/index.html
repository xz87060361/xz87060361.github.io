<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>摘ui类型鼠标事件 | 蓝欧HTML5</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394事件类型事件类型有：UI（用户界面）事件，">
<meta property="og:type" content="article">
<meta property="og:title" content="摘ui类型鼠标事件">
<meta property="og:url" content="http://yoursite.com/2016/07/30/摘ui类型鼠标事件/index.html">
<meta property="og:site_name" content="蓝欧HTML5">
<meta property="og:description" content="12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394事件类型事件类型有：UI（用户界面）事件，">
<meta property="og:updated_time" content="2016-07-30T07:00:50.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="摘ui类型鼠标事件">
<meta name="twitter:description" content="12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394事件类型事件类型有：UI（用户界面）事件，">
  
    <link rel="alternate" href="/atom.xml" title="蓝欧HTML5" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">蓝欧HTML5</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">让教育回归本质</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-摘ui类型鼠标事件" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/07/30/摘ui类型鼠标事件/" class="article-date">
  <time datetime="2016-07-30T07:00:40.000Z" itemprop="datePublished">2016-07-30</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      摘ui类型鼠标事件
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line">事件类型</span><br><span class="line">事件类型有：UI（用户界面）事件，用户与页面上元素交互时触发 ；焦点事件：当元素获得或失去焦点时触发； 鼠标事件：当用户通过鼠标在页面上执行操作时触发；滚轮事件：当使用鼠标滚轮（或类似设备）时触发； 文本事件：当在文档中输入文本时触发； 键盘事件：当用户通过键盘在页面上执行操作时触发； 合成事件：当为IME（输入法编辑器）输入字符时触发； 变动事件：当底层DOM结构发生变化时触发；</span><br><span class="line"></span><br><span class="line">一.UI事件</span><br><span class="line"></span><br><span class="line">load:当前页面完全加载在window上面触发，当所有框架都加载完毕时在框架集上面触发，当图像加载完毕时在&lt;img&gt;元素上触发，或者当嵌入的内容加载完毕时在&lt;object&gt;元素上面触发。</span><br><span class="line">unload：当页面完全卸载后再window上面触发，当所有框架都卸载后再框架集上触发，或者当嵌入的内容卸载完毕后在&lt;object&gt;元素上触发</span><br><span class="line">abort:在用户停止下载过程时，如果嵌入的内容没有加载完，则在&lt;object&gt;元素上面触发</span><br><span class="line">error：当发生javascript错误时在window上面触发，当无法加载图像时在&lt;img&gt;元素上面触发，当无法加载嵌入内容时在&lt;object&gt;元素上面触发，或者当有一个火多个框架无法加载时在框架集上面触发。</span><br><span class="line">select：当用户选择文本框中的一个或多个字符时触发。</span><br><span class="line">resize：当窗口或框架的大小变化时在window或框架上面触发</span><br><span class="line">scroll：当用户滚动带滚动条的元素中的内容时，在该元素上面触发。&lt;body&gt;元素中包含所加载页面的滚动条。</span><br><span class="line"></span><br><span class="line">二.焦点事件</span><br><span class="line"></span><br><span class="line">blur :在元素失去焦点时触发。这个事件不会冒泡；所有浏览器都支持它。</span><br><span class="line">focus ：在元素获得焦点时触发，这个事件不会冒泡；所有浏览器都支持它。</span><br><span class="line">focusin:在元素获得焦点时触发。这个事件与HTML事件focus等价。但它冒泡。支持这个事件的浏览器有IE5.5+、safari5.1+、Opera11.5+和Chrome</span><br><span class="line">focusin:在元素失去焦点时触发。这个事件是HTML事件blur的通用版本。支持这个事件的浏览器有IE5.5+、safari5.1+、Opera11.5+和Chrome</span><br><span class="line"></span><br><span class="line">三.鼠标和滚轮事件</span><br><span class="line"></span><br><span class="line">click:用户单击主鼠标按钮（一般是左边的按钮）或者按下回车键时触发。</span><br><span class="line">dblclick：在用户双击主鼠标按钮时触发</span><br><span class="line">mousedown：在用户按下了任意鼠标按钮时触发，不能通过键盘触发这个事件</span><br><span class="line">mouseenter:在鼠标光标从元素外部首次移动到元素范围内是触发。这个事件不冒泡，而且在光标移动到后代元素上不会触发。它从DOM3开始才纳入规范.IE Firefox9+ Opera支持这个事件。</span><br><span class="line">mouseleave:在位于元素上方的鼠标光标移动到元素范围之外时触发这个事件不冒泡，而且在光标移动到后代元素上不会触发。它从DOM3开始才纳入规范.IE Firefox9+ Opera支持这个事件。</span><br><span class="line">mousemove：当鼠标指针在元素内部移动时重复的触发，不能通过键盘触发这个事件</span><br><span class="line">mouseout：在鼠标指针位于一个元素上方，然后用户将其移入另一个元素时触发。</span><br><span class="line">mouseover：在鼠标位于一个元素外部，然后用户将其首次移入另一个元素边界内触发。不能通过键盘触发这个事件</span><br><span class="line">mouseup：在用户释放鼠标按钮时触发。不能通过键盘触发这个事件</span><br><span class="line">   注释：只有在同一个元素上相继触发mousedown和mouseup事件才会触发click事件；如果mousedown和mouseup中的一个被取消就不会触发click事件。click事件触发的顺序如：mousedown mouseover click ；dblclick事件触发的顺序如：mousedown mouseover click mousedown mouseover click dblclick</span><br><span class="line"></span><br><span class="line">1.客户区坐标 clientX 与clientY  2.页面坐标位置 pageX 和pageY 而在IE8及更早版本需要用到document.body（混杂模式）或document.documentElement（标准模式）中的scrollLeft 和scrollTop属性  3.屏幕坐标位置 使用screenX和screenY属性来确定相对于屏幕的坐标信息。</span><br><span class="line"></span><br><span class="line">4.修改键 DOM规定了4个属性，表示这些修改键的状态：shiftKey、ctrlKey、altKey、metaKey 如果相应的键被按下了，则值时true否则为false。当某个鼠标事件发生时，通过检测这几个属性就可以确定用户是否同时按下了其中的键</span><br><span class="line"></span><br><span class="line">5.相关元素：DOM通过event对象的relatedTarget属性提供了相关元素的信息。这个属性只对于mouseover和mouseout事件才包含值；对于其他事件这个属性的值是null  IE8及之前版本不支持relatedTarget，它提供了两个属性来完成类似功能。在mouseover事件触发时，IE的formElement保存了相关元素；在mouseout事件触发时，IE的toElement属性中保存着相关元素</span><br><span class="line"></span><br><span class="line">6.鼠标按钮：只有在主鼠标被单击时才会触发click事件，因此检测按钮信息并不是必要的。但对于mousedown和mouseup事件来说，则在其event事件存在一个button属性表示按下和释放按钮；DOM中的button属性可能有3个值：0表示主鼠标按钮 ；1表示中间的鼠标按钮，2表示次鼠标按钮。由于IE8之前也提供的相同的button属性 但分的更细有8个值，由于3个值的更实用。所以兼容代码如下：</span><br><span class="line"></span><br><span class="line">//鼠标左键右键和滚轮的兼容</span><br><span class="line">    getButton : function(event)&#123;</span><br><span class="line">        if (document.implementation.hasFeature(&quot;MouseEvents&quot;,&quot;2.0&quot;))&#123;</span><br><span class="line">           return event.button;    </span><br><span class="line">        &#125;else &#123;</span><br><span class="line">            //以下是IE中的兼容方法，IE的更不实用</span><br><span class="line">            switch (event.button)&#123;</span><br><span class="line">                case 0:</span><br><span class="line">                case 1:</span><br><span class="line">                case 3:</span><br><span class="line">                case 5:</span><br><span class="line">                case 7:</span><br><span class="line">                    return 0;</span><br><span class="line">                case 2:</span><br><span class="line">                case 6:</span><br><span class="line">                    return 2;</span><br><span class="line">                case 4: </span><br><span class="line">                    return 1;</span><br><span class="line">            </span><br><span class="line">            &#125;</span><br><span class="line">         &#125;    </span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">7.更多的事件信息 ”DOM2级事件“ 规范event对象中还提供了detail属性，用于给有关事件提供更多信息。对于鼠标事件来说，detail中包含了一个数值，表示在给定位置上发生了多少次单击。</span><br><span class="line"></span><br><span class="line">8.鼠标滚轮事件：mousewheel事件 非常流行而且所有浏览器都支持它。所以HTML5也加入了该事件</span><br><span class="line"></span><br><span class="line">  //兼容获取鼠标滚轮信息（这段兼容代码存在问题）</span><br><span class="line">    getWheelDelta: function(event)&#123;</span><br><span class="line">          //为了兼容opera早期的版本</span><br><span class="line">        if (event.wheelDelta)&#123;</span><br><span class="line">           return (client.engine.opera &amp;&amp; client.engine.opera &lt; 9.5 ?</span><br><span class="line">                   -event.wheelDelta : event.wheelDelta);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">           //之所以乘40是火狐返回的是3与-3</span><br><span class="line">           return -event.detail * 40;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;上面代码存在问题IE中无法识别client.engine.opera。所以只能在火狐中实现。但如果将判断opera早期版本的去掉应该是可以的。</span><br><span class="line"></span><br><span class="line">9触摸设备IOS和Android设备的实现非常特别，因为这些设备没有鼠标。注意几点如下：</span><br><span class="line"></span><br><span class="line">1.不支持dbclick事件。双击浏览器窗口会放大画面。而且没有办法改变该行为。</span><br><span class="line">2.轻击可单击元素会触发mousemove事件。如果此操作会导致内容变化，将不再有其他事件发生；如果屏幕没有因此变化，那么会依次产生mousedown、mouseup、和click事件。轻击不可单击的元素不会触发任何事件。可单击的元素是指那些单击可产生默认操作的元素，或者那些已经被指定了onclick事件处理程序的元素</span><br><span class="line">3.mousemove事件也会触发mouseover和mouseout事件。</span><br><span class="line">4.两个手指放在屏幕上且页面随手指移动而滚动时会触发mousewheel 和scroll事件</span><br><span class="line"></span><br><span class="line">四。键盘与文本事件有三个键盘事件：keydown当用户按下键盘上的任意键时触发 keypress当用户按下键盘上的字符键时触发 keyup当用户释放键盘上的键时触发。  还有一个文本事件textInput 这个事件是对keypress事件的补充，用意是在将文本显示给用户之前更容易拦截文本，在文本插入文本框之前会触发textInput事件</span><br><span class="line"></span><br><span class="line">   在用户按下一个键盘上的字符键是，首先会触发事件的顺序是：keydown keypress keyup 如果用户按下一个字符键不放就会重复触发keydown和keypress事件， 直到用户松开该键为止。如果用户按下的是一个非字符键，那么触发事件的顺序是：keydown keyup 如果按住这个非字符键不放，那就会一直重复触发keydown事件，直到用户松开这个键时，才会触发keyup。键盘事件和鼠标事件一样，都支持相同的修改键，键盘事件的事件对象中也有shiftKey ctrlKey altKey 和metaKey属性。</span><br><span class="line"></span><br><span class="line">   DOM3级事件中键盘事件不再包含charCode事件，二是包含两个新属性：key和char 其中key 在按下的是字符和非字符显示的结果都是一样的，而char只有在按下的时候是字符才会显示，按下非字符则值为null。 还添加了一个属性名为location表示按下了什么位置的键。 （由于存在跨浏览器问题（IE9支持Key属性，但不支持char属性，safari5和chrome支持名为keyIdentifier的属性），因此不推荐使用）</span><br><span class="line"></span><br><span class="line">   DOM3级事件引入了一个新事件 textInput 它与keypress的差别 一是只有可编辑区域才能触发textInput事件 区别之二是textInput事件只会在用户按下能够输入实际字符的键时才会被触发。而keypress事件则在按下那些能够影响文本显示的键时也会触发。支持textInput属性的浏览器有IE9+、safari和chrome</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/07/30/摘ui类型鼠标事件/" data-id="cirii4s3u0019hidjlar1t5eq" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2016/08/06/a/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          a
        
      </div>
    </a>
  
  
    <a href="/2016/07/30/事件创建li并找到相应的下标/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">事件创建li并找到相应的下标</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">八月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">七月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">六月 2016</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/08/06/a/">a</a>
          </li>
        
          <li>
            <a href="/2016/07/30/摘ui类型鼠标事件/">摘ui类型鼠标事件</a>
          </li>
        
          <li>
            <a href="/2016/07/30/事件创建li并找到相应的下标/">事件创建li并找到相应的下标</a>
          </li>
        
          <li>
            <a href="/2016/07/30/键盘事件/">键盘事件</a>
          </li>
        
          <li>
            <a href="/2016/07/30/事件例子/">事件例子</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 彭大帅<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>